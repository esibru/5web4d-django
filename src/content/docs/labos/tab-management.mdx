---
title: Gestion des onglets actifs
description: /
---

Si vous avez prÃªtÃ© attention, le lien activÃ© dans le menu de navigation reste celui des dÃ©veloppeurs. C'est normal puisque nous ne l'avons pas changÃ©.

**Deux possibilitÃ©s :**

1. Par le contexte donnÃ© aux gabarits. Pour cela, il faut
   * ajouter le nom de l'onglet Ã  activer dans le contexte des vues et
   * vÃ©rifier dans le gabarit `_base.html` quel est l'onglet qui doit Ãªtre actif.
1. AccÃ©der Ã  l'espace nom accessible dans un gabarit grÃ¢ce Ã  
   ``` python showLineNumbers=false
    request.resolver_match.namespaces.0
   ```
   (Dans `mproject/_base.html` ajoutez `<p>{{ request.resolver_match }}</p>` et vÃ©rifiez son contenu.)

## Gestion grÃ¢ce au contexte

Dans cette section, nous allons implÃ©menter grÃ¢ce Ã  la premiÃ¨re option.

### Vues

#### Application `developer`

``` python showLineNumbers=false title="developer/views.py" ins={8,17-20}
  class IndexView(ListView): 
  
      # ...
  
      def get_context_data(self, **kwargs):
          context = super(IndexView, self).get_context_data(**kwargs)
          context['form'] = DeveloperForm      
          context['app'] = "developer"
          return context 
  
  # ...
  
  class DevDetailVue(DetailView):
      
      # ...
  
      def get_context_data(self, **kwargs): 
          context = super(DetailView, self).get_context_data(**kwargs)
          context['app'] = "developer"
          return context 
```

#### Application `task`

``` python showLineNumbers=false title="task/views.py" ins={5-8}
  class IndexView(ListView):
  
      # ...
  
      def get_context_data(self, **kwargs): 
          context = super(IndexView, self).get_context_data(**kwargs)
          context['app'] = "task"
          return context 
```

### Gabarit `_base`

Maintenant que le contexte a Ã©tÃ© ajoutÃ© dans chacune des vues, il est temps de vÃ©rifier quel onglet doit Ãªtre actif.

``` html showLineNumbers=false title=templates/_base.html
    <ul class="navbar-nav">
        <li id="nav-home" class="nav-item">
            <a class="nav-link" href="#"><i class="fa fa-home"></i></a>
        </li>
        <li id="nav-dev" class="nav-item">
            <a                                                                      ðŸ‘ˆ update
                class="nav-link {% if app == 'developer' %} active {% endif %}"     ðŸ‘ˆ update
                href="{% url 'developer:index' %}">Developers</a>                   ðŸ‘ˆ update
        </li>
        <li id="nav-task" class="nav-item">
            <a                                                                      ðŸ‘ˆ update
                class="nav-link {% if app == 'task' %} active {% endif %}"          ðŸ‘ˆ update
                href="{% url 'task:index' %}">Tasks</a>                             ðŸ‘ˆ update
        </li>
    </ul>
```

VÃ©rifiez chacune de vos vues.

## Information de la requÃªte.

Passons Ã  la deuxiÃ¨me option.

``` html showLineNumbers=false title="templates/_base.html"
    <ul class="navbar-nav">
        <li id="nav-home" class="nav-item">
            <a class="nav-link" href="#"><i class="fa fa-home"></i></a>
        </li>
        <li id="nav-dev" class="nav-item">
            <a                                                                                                      ðŸ‘ˆ update
                class="nav-link {% if request.resolver_match.namespaces.0 == 'developers' %} active {% endif %}"    ðŸ‘ˆ update
                href="{% url 'developer:index' %}">Developers</a>                                                   ðŸ‘ˆ update
        </li>
        <li id="nav-task" class="nav-item">
            <a                                                                                                      ðŸ‘ˆ update
                class="nav-link {% if request.resolver_match.namespaces.0 == 'tasks' %} active {% endif %}"         ðŸ‘ˆ update
                href="{% url 'task:index' %}">Tasks</a>                                                             ðŸ‘ˆ update
        </li>
    </ul>
```

VÃ©rifiez chacune de vos vues.
